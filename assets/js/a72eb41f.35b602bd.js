"use strict";(self.webpackChunkmapillary_js_doc=self.webpackChunkmapillary_js_doc||[]).push([[8864],{3905:function(t,e,n){n.d(e,{Zo:function(){return m},kt:function(){return c}});var a=n(7294);function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e){if(null==t)return{};var n,a,p=function(t,e){if(null==t)return{};var n,a,p={},o=Object.keys(t);for(a=0;a<o.length;a++)n=o[a],e.indexOf(n)>=0||(p[n]=t[n]);return p}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(p[n]=t[n])}return p}var l=a.createContext({}),s=function(t){var e=a.useContext(l),n=e;return t&&(n="function"==typeof t?t(e):r(r({},e),t)),n},m=function(t){var e=s(t.components);return a.createElement(l.Provider,{value:e},t.children)},u={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},d=a.forwardRef((function(t,e){var n=t.components,p=t.mdxType,o=t.originalType,l=t.parentName,m=i(t,["components","mdxType","originalType","parentName"]),d=s(n),c=p,k=d["".concat(l,".").concat(c)]||d[c]||u[c]||o;return n?a.createElement(k,r(r({ref:e},m),{},{components:n})):a.createElement(k,r({ref:e},m))}));function c(t,e){var n=arguments,p=e&&e.mdxType;if("string"==typeof t||p){var o=n.length,r=new Array(o);r[0]=d;var i={};for(var l in e)hasOwnProperty.call(e,l)&&(i[l]=e[l]);i.originalType=t,i.mdxType="string"==typeof t?t:p,r[1]=i;for(var s=2;s<o;s++)r[s]=n[s];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},9134:function(t,e,n){n.r(e),n.d(e,{frontMatter:function(){return r},contentTitle:function(){return i},metadata:function(){return l},toc:function(){return s},default:function(){return u}});var a=n(2122),p=n(9756),o=(n(7294),n(3905)),r={id:"component.Popup",title:"Class: Popup",sidebar_label:"Popup",custom_edit_url:null},i=void 0,l={unversionedId:"classes/component.Popup",id:"classes/component.Popup",isDocsHomePage:!1,title:"Class: Popup",description:"component.Popup",source:"@site/api/classes/component.Popup.md",sourceDirName:"classes",slug:"/classes/component.Popup",permalink:"/mapillary-js/api/classes/component.Popup",editUrl:null,tags:[],version:"current",frontMatter:{id:"component.Popup",title:"Class: Popup",sidebar_label:"Popup",custom_edit_url:null},sidebar:"api",previous:{title:"PolygonGeometry",permalink:"/mapillary-js/api/classes/component.PolygonGeometry"},next:{title:"PopupComponent",permalink:"/mapillary-js/api/classes/component.PopupComponent"}},s=[{value:"Constructors",id:"constructors",children:[{value:"constructor",id:"constructor",children:[]}]},{value:"Methods",id:"methods",children:[{value:"setBasicPoint",id:"setbasicpoint",children:[]},{value:"setBasicRect",id:"setbasicrect",children:[]},{value:"setDOMContent",id:"setdomcontent",children:[]},{value:"setHTML",id:"sethtml",children:[]},{value:"setText",id:"settext",children:[]}]}],m={toc:s};function u(t){var e=t.components,n=(0,p.Z)(t,["components"]);return(0,o.kt)("wrapper",(0,a.Z)({},m,n,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"/mapillary-js/api/modules/component"},"component"),".Popup"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"classdesc"))," Popup instance for rendering custom HTML content\non top of images. Popups are based on 2D basic image coordinates\n(see the ",(0,o.kt)("a",{parentName:"p",href:"/mapillary-js/api/classes/viewer.Viewer"},"Viewer")," class documentation for more information about coordinate\nsystems) and a certain popup is therefore only relevant to a single image.\nPopups related to a certain image should be removed when moving\nto another image."),(0,o.kt)("p",null,"A popup must have both its content and its point or rect set to be\nrendered. Popup options can not be updated after creation but the\nbasic point or rect as well as its content can be changed by calling\nthe appropriate methods."),(0,o.kt)("p",null,"To create and add one ",(0,o.kt)("inlineCode",{parentName:"p"},"Popup")," with default configuration\n(tooltip visuals and automatic float) and one with specific options\nuse"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"example"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"var defaultSpan = document.createElement('span');\ndefaultSpan.innerHTML = 'hello default';\n\nvar defaultPopup = new Popup();\ndefaultPopup.setDOMContent(defaultSpan);\ndefaultPopup.setBasicPoint([0.3, 0.3]);\n\nvar cleanSpan = document.createElement('span');\ncleanSpan.innerHTML = 'hello clean';\n\nvar cleanPopup = new Popup({\n    clean: true,\n    float: Alignment.Top,\n    offset: 10,\n    opacity: 0.7,\n});\n\ncleanPopup.setDOMContent(cleanSpan);\ncleanPopup.setBasicPoint([0.6, 0.6]);\n\npopupComponent.add([defaultPopup, cleanPopup]);\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"description"))," Implementation of API methods and API documentation inspired\nby/used from ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/mapbox/mapbox-gl-js/blob/v0.38.0/src/ui/popup.js"},"https://github.com/mapbox/mapbox-gl-js/blob/v0.38.0/src/ui/popup.js")),(0,o.kt)("h2",{id:"constructors"},"Constructors"),(0,o.kt)("h3",{id:"constructor"},"constructor"),(0,o.kt)("p",null,"\u2022 ",(0,o.kt)("strong",{parentName:"p"},"new Popup"),"(",(0,o.kt)("inlineCode",{parentName:"p"},"options?"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"viewportCoords?"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"dom?"),")"),(0,o.kt)("h4",{id:"parameters"},"Parameters"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,o.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"options?")),(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("a",{parentName:"td",href:"/mapillary-js/api/interfaces/component.PopupOptions"},(0,o.kt)("inlineCode",{parentName:"a"},"PopupOptions")))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"viewportCoords?")),(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"ViewportCoords"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"dom?")),(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"DOM"))))),(0,o.kt)("h4",{id:"defined-in"},"Defined in"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/mapillary/mapillary-js/blob/8414ba17/src/component/popup/popup/Popup.ts#L78"},"component/popup/popup/Popup.ts:78")),(0,o.kt)("h2",{id:"methods"},"Methods"),(0,o.kt)("h3",{id:"setbasicpoint"},"setBasicPoint"),(0,o.kt)("p",null,"\u25b8 ",(0,o.kt)("strong",{parentName:"p"},"setBasicPoint"),"(",(0,o.kt)("inlineCode",{parentName:"p"},"basicPoint"),"): ",(0,o.kt)("inlineCode",{parentName:"p"},"void")),(0,o.kt)("p",null,"Sets a 2D basic image coordinates point to the popup's anchor, and\nmoves the popup to it."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"description"))," Overwrites any previously set point or rect."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"example"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"var popup = new Popup();\npopup.setText('hello image');\npopup.setBasicPoint([0.3, 0.3]);\n\npopupComponent.add([popup]);\n")),(0,o.kt)("h4",{id:"parameters-1"},"Parameters"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,o.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,o.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"basicPoint")),(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"number"),"[]"),(0,o.kt)("td",{parentName:"tr",align:"left"},"Point in 2D basic image coordinates.")))),(0,o.kt)("h4",{id:"returns"},"Returns"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"void")),(0,o.kt)("h4",{id:"defined-in-1"},"Defined in"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/mapillary/mapillary-js/blob/8414ba17/src/component/popup/popup/Popup.ts#L148"},"component/popup/popup/Popup.ts:148")),(0,o.kt)("hr",null),(0,o.kt)("h3",{id:"setbasicrect"},"setBasicRect"),(0,o.kt)("p",null,"\u25b8 ",(0,o.kt)("strong",{parentName:"p"},"setBasicRect"),"(",(0,o.kt)("inlineCode",{parentName:"p"},"basicRect"),"): ",(0,o.kt)("inlineCode",{parentName:"p"},"void")),(0,o.kt)("p",null,"Sets a 2D basic image coordinates rect to the popup's anchor, and\nmoves the popup to it."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"description"))," Overwrites any previously set point or rect."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"example"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"var popup = new Popup();\npopup.setText('hello image');\npopup.setBasicRect([0.3, 0.3, 0.5, 0.6]);\n\npopupComponent.add([popup]);\n")),(0,o.kt)("h4",{id:"parameters-2"},"Parameters"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,o.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,o.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"basicRect")),(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"number"),"[]"),(0,o.kt)("td",{parentName:"tr",align:"left"},"Rect in 2D basic image coordinates (","[topLeftX, topLeftY, bottomRightX, bottomRightY]",") .")))),(0,o.kt)("h4",{id:"returns-1"},"Returns"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"void")),(0,o.kt)("h4",{id:"defined-in-2"},"Defined in"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/mapillary/mapillary-js/blob/8414ba17/src/component/popup/popup/Popup.ts#L173"},"component/popup/popup/Popup.ts:173")),(0,o.kt)("hr",null),(0,o.kt)("h3",{id:"setdomcontent"},"setDOMContent"),(0,o.kt)("p",null,"\u25b8 ",(0,o.kt)("strong",{parentName:"p"},"setDOMContent"),"(",(0,o.kt)("inlineCode",{parentName:"p"},"htmlNode"),"): ",(0,o.kt)("inlineCode",{parentName:"p"},"void")),(0,o.kt)("p",null,"Sets the popup's content to the element provided as a DOM node."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"example"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"var div = document.createElement('div');\ndiv.innerHTML = 'hello image';\n\nvar popup = new Popup();\npopup.setDOMContent(div);\npopup.setBasicPoint([0.3, 0.3]);\n\npopupComponent.add([popup]);\n")),(0,o.kt)("h4",{id:"parameters-3"},"Parameters"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,o.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,o.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"htmlNode")),(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"Node")),(0,o.kt)("td",{parentName:"tr",align:"left"},"A DOM node to be used as content for the popup.")))),(0,o.kt)("h4",{id:"returns-2"},"Returns"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"void")),(0,o.kt)("h4",{id:"defined-in-3"},"Defined in"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/mapillary/mapillary-js/blob/8414ba17/src/component/popup/popup/Popup.ts#L197"},"component/popup/popup/Popup.ts:197")),(0,o.kt)("hr",null),(0,o.kt)("h3",{id:"sethtml"},"setHTML"),(0,o.kt)("p",null,"\u25b8 ",(0,o.kt)("strong",{parentName:"p"},"setHTML"),"(",(0,o.kt)("inlineCode",{parentName:"p"},"html"),"): ",(0,o.kt)("inlineCode",{parentName:"p"},"void")),(0,o.kt)("p",null,"Sets the popup's content to the HTML provided as a string."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"description"))," This method does not perform HTML filtering or sanitization,\nand must be used only with trusted content. Consider\n",(0,o.kt)("a",{parentName:"p",href:"/mapillary-js/api/classes/component.Popup#settext"},"Popup.setText")," if the\ncontent is an untrusted text string."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"example"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"var popup = new Popup();\npopup.setHTML('<div>hello image</div>');\npopup.setBasicPoint([0.3, 0.3]);\n\npopupComponent.add([popup]);\n")),(0,o.kt)("h4",{id:"parameters-4"},"Parameters"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,o.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,o.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"html")),(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"string")),(0,o.kt)("td",{parentName:"tr",align:"left"},"A string representing HTML content for the popup.")))),(0,o.kt)("h4",{id:"returns-3"},"Returns"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"void")),(0,o.kt)("h4",{id:"defined-in-4"},"Defined in"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/mapillary/mapillary-js/blob/8414ba17/src/component/popup/popup/Popup.ts#L232"},"component/popup/popup/Popup.ts:232")),(0,o.kt)("hr",null),(0,o.kt)("h3",{id:"settext"},"setText"),(0,o.kt)("p",null,"\u25b8 ",(0,o.kt)("strong",{parentName:"p"},"setText"),"(",(0,o.kt)("inlineCode",{parentName:"p"},"text"),"): ",(0,o.kt)("inlineCode",{parentName:"p"},"void")),(0,o.kt)("p",null,"Sets the popup's content to a string of text."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"description"))," This function creates a Text node in the DOM, so it cannot insert raw HTML.\nUse this method for security against XSS if the popup content is user-provided."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"example"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"var popup = new Popup();\npopup.setText('hello image');\npopup.setBasicPoint([0.3, 0.3]);\n\npopupComponent.add([popup]);\n")),(0,o.kt)("h4",{id:"parameters-5"},"Parameters"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,o.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,o.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"text")),(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"string")),(0,o.kt)("td",{parentName:"tr",align:"left"},"Textual content for the popup.")))),(0,o.kt)("h4",{id:"returns-4"},"Returns"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"void")),(0,o.kt)("h4",{id:"defined-in-5"},"Defined in"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/mapillary/mapillary-js/blob/8414ba17/src/component/popup/popup/Popup.ts#L267"},"component/popup/popup/Popup.ts:267")))}u.isMDXComponent=!0}}]);